<!DOCTYPE html>
<html lang="en" class="scroll-smooth">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>RT Converter - NovaStore GTPS</title>
  <meta name="description" content="Click & Convert RTTEX and RTFONT files easily.">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Inter:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <!-- AOS Animation CSS -->
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Icons -->
  <script src="https://unpkg.com/lucide@latest"></script>

  <!-- Dependencies -->
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Local Plugins (Assuming file structure exists) -->
  <script src="plugins/fxp/fxp.min.js"></script>
  <script src="plugins/fxp/fxparser.min.js"></script>
  <script src="plugins/fxp/fxbuilder.min.js"></script>
  <script src="plugins/jszip/jszip.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pako/2.1.0/pako.min.js"></script>

  <!-- CodeMirror -->
  <link rel="stylesheet" href="plugins/codemirror/codemirror.css" />
  <link rel="stylesheet" href="plugins/codemirror/theme/monokai.css" />
  <script src="plugins/codemirror/codemirror.js"></script>
  <script src="plugins/codemirror/mode/css/css.js"></script>
  <script src="plugins/codemirror/mode/xml/xml.js"></script>
  <script src="plugins/codemirror/mode/htmlmixed/htmlmixed.js"></script>

  <!-- Custom Config -->
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
            heading: ['Outfit', 'sans-serif'],
          },
          colors: {
            background: '#030303',
            surface: '#0A0A0A',
          },
          animation: {
            'float-dynamic': 'floatDynamic 6s ease-in-out infinite',
            'float-fast': 'floatDynamic 4s ease-in-out infinite reverse',
            'float-slow': 'floatDynamic 8s ease-in-out infinite',
            'pulse-glow': 'pulseGlow 4s cubic-bezier(0.4, 0, 0.6, 1) infinite',
            'shimmer': 'shimmer 2s linear infinite',
          },
          keyframes: {
            floatDynamic: {
              '0%, 100%': { transform: 'translateY(0) rotate(0deg)' },
              '33%': { transform: 'translateY(-10px) rotate(1deg)' },
              '66%': { transform: 'translateY(5px) rotate(-1deg)' },
            },
            pulseGlow: {
              '0%, 100%': { opacity: '0.5' },
              '50%': { opacity: '0.2' },
            },
            shimmer: {
              '0%': { transform: 'translateX(-100%)' },
              '100%': { transform: 'translateX(100%)' }
            }
          }
        }
      }
    }
  </script>

  <style>
    body {
      background-color: #030303;
      color: #e2e8f0;
      overflow-x: hidden;
      -webkit-font-smoothing: antialiased;
      background-image:
        radial-gradient(circle at 15% 50%, rgba(255, 255, 255, 0.03) 0%, transparent 25%),
        radial-gradient(circle at 85% 30%, rgba(255, 255, 255, 0.02) 0%, transparent 25%);
      background-attachment: fixed;
    }

    /* Ultimate Glass Card */
    .mac-card {
      background: rgba(18, 18, 18, 0.6);
      border: 1px solid rgba(255, 255, 255, 0.08);
      transition: all 0.6s cubic-bezier(0.22, 1, 0.36, 1);
      position: relative;
      overflow: hidden;
      border-radius: 1.5rem;
    }

    /* Navbar & Glass Elements */
    .mac-glass {
      background: rgba(5, 5, 5, 0.8);
      backdrop-filter: blur(24px);
      -webkit-backdrop-filter: blur(24px);
      border-bottom: 1px solid rgba(255, 255, 255, 0.05);
    }

    /* Custom Toggle */
    .toggle-checkbox:checked {
      right: 0;
      border-color: #68D391;
    }

    .toggle-checkbox:checked+.toggle-label {
      background-color: #68D391;
    }

    .d-none {
      display: none !important;
    }

    /* Helpers for CodeMirror */
    .CodeMirror {
      height: 300px;
      border-radius: 0.5rem;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
  </style>
</head>

<body class="antialiased font-sans selection:bg-white/30 selection:text-white">

  <!-- Navbar -->
  <nav class="fixed top-0 w-full z-50 transition-all duration-300 mac-glass" id="navbar">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex items-center justify-between h-20">
        <!-- Logo -->
        <div class="flex-shrink-0 flex items-center gap-4 cursor-pointer group"
          onclick="window.location.href='index.html'">
          <div
            class="w-10 h-10 rounded-xl bg-gradient-to-tr from-white to-gray-400 text-black flex items-center justify-center font-bold text-xl transition-all duration-500 group-hover:rotate-180 group-hover:scale-110 shadow-[0_0_20px_rgba(255,255,255,0.2)]">
            N
          </div>
          <span
            class="font-heading font-bold text-2xl tracking-tight text-white group-hover:tracking-wide transition-all duration-300">NovaStore</span>
        </div>

        <!-- Desktop Menu -->
        <div class="hidden md:block">
          <div class="flex items-center gap-1 p-1 rounded-full border border-white/5 bg-white/[0.03]">
            <a href="index.html"
              class="text-gray-400 hover:text-white hover:bg-white/10 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300">Home</a>
            <a href="index2.html"
              class="text-gray-400 hover:text-white hover:bg-white/10 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300">Items
              Editor</a>
            <a href="rtconverter.html"
              class="text-white bg-white/10 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300">RT
              Converter</a>
            <a href="protonhash.html"
              class="text-gray-400 hover:text-white hover:bg-white/10 px-4 py-2 rounded-full text-sm font-medium transition-all duration-300">Proton</a>
          </div>
        </div>

        <div class="hidden md:block"></div> <!-- Spacer -->
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <section class="pt-32 pb-20 min-h-screen">
    <div class="max-w-5xl mx-auto px-4 sm:px-6 lg:px-8">

      <div class="text-center mb-16" data-aos="fade-up">
        <h1 class="text-4xl md:text-6xl font-heading font-black text-white mb-6">RT File Converter</h1>
        <p class="text-gray-400 text-xl max-w-2xl mx-auto">Convert between RTTEX, RTFONT and standard image formats.</p>
      </div>

      <!-- Tabs -->
      <div class="flex justify-center mb-8" data-aos="fade-up" data-aos-delay="100">
        <div class="bg-white/5 p-1 rounded-full border border-white/10 flex">
          <button id="tab-rttex"
            class="px-8 py-2 rounded-full text-sm font-bold transition-all duration-300 bg-white text-black shadow-lg"
            onclick="switchTab('rttex')">RTTEX</button>
          <button id="tab-rtfont"
            class="px-8 py-2 rounded-full text-sm font-bold text-gray-400 hover:text-white transition-all duration-300"
            onclick="switchTab('rtfont')">RTFONT</button>
        </div>
      </div>

      <div class="mac-card p-8 md:p-12 backdrop-blur-md" data-aos="fade-up" data-aos-delay="200">

        <!-- RTTEX TAB -->
        <div id="rttex" class="tab-content transition-all duration-300">
          <div class="flex items-center justify-between bg-white/5 p-4 rounded-xl border border-white/10 mb-8">
            <div>
              <h3 class="font-bold text-white">Auto Download</h3>
              <p class="text-xs text-gray-500">Automatically download PNG after conversion</p>
            </div>
            <div class="relative inline-block w-12 h-6 align-middle select-none transition duration-200 ease-in">
              <input type="checkbox" id="auto_download_image"
                class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer duration-200 ease-in-out border-gray-600 left-0" />
              <label for="auto_download_image"
                class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-800 cursor-pointer"></label>
            </div>
          </div>

          <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
            <div
              class="bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-white/30 transition-all text-center">
              <h3 class="text-lg font-bold text-white mb-2">RTTEX to PNG</h3>
              <button id="rttex_to_png"
                class="mt-4 bg-white text-black font-bold px-6 py-3 rounded-xl hover:bg-gray-200 transition-all shadow-lg w-full flex items-center justify-center gap-2">
                <i data-lucide="image" class="w-4 h-4"></i> Browse RTTEX
              </button>
            </div>
            <div
              class="bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-white/30 transition-all text-center">
              <h3 class="text-lg font-bold text-white mb-2">PNG to RTTEX</h3>
              <button id="png_to_rttex"
                class="mt-4 bg-emerald-500 text-white font-bold px-6 py-3 rounded-xl hover:bg-emerald-400 transition-all shadow-lg w-full flex items-center justify-center gap-2">
                <i data-lucide="file-code" class="w-4 h-4"></i> Browse Image
              </button>
            </div>
          </div>

          <div class="text-center">
            <p class="font-mono text-emerald-400 mb-6" id="rttex_hash_file">RTTEX Hash File: -</p>
            <h3 class="text-xl font-bold text-white mb-4">Preview</h3>
            <div class="bg-black/40 p-4 rounded-xl border border-white/10 inline-block">
              <canvas id="canvas_result" class="max-w-full h-auto"></canvas>
            </div>
            <canvas id="canvas_temporary" style="display: none"></canvas>
            <div class="mt-4">
              <button class="btn btn-success d-none bg-blue-500 text-white px-6 py-2 rounded-lg"
                id="download_image">Download Image</button>
            </div>
          </div>

        </div>

        <!-- RTFONT TAB -->
        <div id="rtfont" class="tab-content hidden transition-all duration-300">

          <div class="flex items-center justify-between bg-white/5 p-4 rounded-xl border border-white/10 mb-8">
            <div>
              <h3 class="font-bold text-white">Using Editor</h3>
              <p class="text-xs text-gray-500">Edit RTFONT directly in browser</p>
            </div>
            <div class="relative inline-block w-12 h-6 align-middle select-none transition duration-200 ease-in">
              <input type="checkbox" id="use_editor"
                class="toggle-checkbox absolute block w-6 h-6 rounded-full bg-white border-4 appearance-none cursor-pointer duration-200 ease-in-out border-gray-600 left-0" />
              <label for="use_editor"
                class="toggle-label block overflow-hidden h-6 rounded-full bg-gray-800 cursor-pointer"></label>
            </div>
          </div>

          <div id="without-editor">
            <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mb-8">
              <div
                class="bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-white/30 transition-all text-center">
                <h3 class="text-lg font-bold text-white mb-2">Unpack RTFONT</h3>
                <button id="rtfont_unpacker"
                  class="mt-4 bg-white text-black font-bold px-6 py-3 rounded-xl hover:bg-gray-200 transition-all shadow-lg w-full">
                  Browse RTFONT
                </button>
              </div>
              <div
                class="bg-white/5 p-6 rounded-2xl border border-white/10 hover:border-white/30 transition-all text-center">
                <h3 class="text-lg font-bold text-white mb-2">Pack RTFONT (ZIP)</h3>
                <button id="rtfont_packer"
                  class="mt-4 bg-emerald-500 text-white font-bold px-6 py-3 rounded-xl hover:bg-emerald-400 transition-all shadow-lg w-full">
                  Browse ZIP
                </button>
              </div>
            </div>
            <p class="text-center font-mono text-emerald-400" id="rtfont_hash_1">RTFont Hash File: -</p>
            <canvas id="canvas_temporary_2" style="display: none"></canvas>
            <canvas id="canvas_temporary_3" style="display: none"></canvas>
          </div>

          <div id="with-editor" class="d-none">
            <div class="text-center mb-8">
              <button id="open_rtfont_file"
                class="bg-white text-black font-bold px-8 py-3 rounded-xl hover:bg-gray-200 transition-all shadow-lg inline-flex items-center gap-2">
                <i data-lucide="folder-open" class="w-4 h-4"></i> Open RTFONT File
              </button>
            </div>

            <div id="rtfont_opened" class="d-none space-y-6">

              <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                <div>
                  <h4 class="text-white font-bold mb-2">TXT File</h4>
                  <textarea id="txt_file"></textarea>
                </div>
                <div>
                  <h4 class="text-white font-bold mb-2">FNT File</h4>
                  <textarea id="fnt_file"></textarea>
                </div>
              </div>

              <div class="bg-black/40 p-6 rounded-xl border border-white/10 text-center">
                <h4 class="text-white font-bold mb-4">Font Image</h4>
                <canvas id="image_rtfont" class="max-w-full h-auto mb-4 border border-white/20"></canvas>
                <button class="bg-blue-500 text-white font-bold px-6 py-2 rounded-lg hover:bg-blue-400 transition"
                  id="change_png_rtfont">
                  Change Image (PNG)
                </button>
              </div>

              <div class="text-center pt-8 border-t border-white/10">
                <button
                  class="bg-emerald-500 text-white font-bold px-10 py-4 rounded-xl hover:shadow-[0_0_30px_rgba(16,185,129,0.4)] transition-all flex items-center gap-2 mx-auto"
                  onclick="save_to_rtfont()">
                  <i data-lucide="save" class="w-5 h-5"></i> Save RTFONT
                </button>
                <p class="mt-4 font-mono text-blue-300" id="rtfont_hash_2">RTFONT Hash File: -</p>
              </div>

            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-black pt-12 pb-8 border-t border-white/10">
    <div class="max-w-7xl mx-auto px-4 text-center text-gray-600 text-sm">
      <p>&copy; 2025 NovaStore GTPS. All rights reserved.</p>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script>
    lucide.createIcons();
    AOS.init({ duration: 800, offset: 50 });

    // Tab Switching Logic
    function switchTab(tabId) {
      // Reset Tabs
      document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
      document.getElementById('tab-rttex').classList.remove('bg-white', 'text-black', 'shadow-lg');
      document.getElementById('tab-rttex').classList.add('text-gray-400');
      document.getElementById('tab-rtfont').classList.remove('bg-white', 'text-black', 'shadow-lg');
      document.getElementById('tab-rtfont').classList.add('text-gray-400');

      // Activate Target
      document.getElementById(tabId).classList.remove('hidden');
      document.getElementById('tab-' + tabId).classList.remove('text-gray-400');
      document.getElementById('tab-' + tabId).classList.add('bg-white', 'text-black', 'shadow-lg');
    }

    // Toggle Logic for Editor
    $(function () {
      // Shim for bootstrapToggle
      $.fn.bootstrapToggle = function (action) {
        if (action === 'off') {
          this.prop('checked', false).trigger('change');
        } else if (action === 'on') {
          this.prop('checked', true).trigger('change');
        }
        return this;
      };

      $('#use_editor').change(function () {
        if (this.checked) {
          $('#without-editor').addClass('d-none');
          $('#with-editor').removeClass('d-none');
        } else {
          $('#without-editor').removeClass('d-none');
          $('#with-editor').addClass('d-none');
        }
      });
    });
  </script>

  <!-- Original Tool Logic -->
  <script src="dist/js/rtconverter.js"></script>

</body>

</html>